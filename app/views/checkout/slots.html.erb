<%= render partial: 'progress', locals: {
  steps: {
    'Pick Day' => 'completed',
    'Choose Slot' => 'active',
    'Customize a Meal' => 'disabled',
    'Checkout' => 'disabled'
  }}
%>
<div class="border border-gray-400 rounded p-10 m-20 my-8">
  <div>
    <div class="lg:grid lg:grid-cols-12 lg:gap-x-16">
      hello
      <div class="mt-10 text-center lg:col-start-8 lg:col-end-13 lg:row-start-1 lg:mt-9 xl:col-start-9">
        <div class="flex items-center text-gray-900">
          <div class="flex-auto text-sm font-semibold">
            <%= "#{ordinalize_date(@day.date.in_time_zone('Mountain Time (US & Canada)'))}" %>
          </div>
        </div>
        <div class="mt-6 grid grid-cols-7 text-xs leading-6 text-gray-500">
          <div>M</div>
          <div>T</div>
          <div>W</div>
          <div>T</div>
          <div>F</div>
          <div>S</div>
          <div>S</div>
        </div>
        <ol class="mt-4 divide-y divide-gray-100 text-sm leading-6 lg:col-span-7 xl:col-span-8">
          <div class="isolate mt-2 grid grid-cols-7 gap-px rounded-lg bg-gray-200 text-sm shadow ring-1 ring-gray-200">
            <% param_date = Date.parse(params[:day]) %>
            <% first_day_of_month = @start_date.beginning_of_month %>
            <% day_of_week_first_day = first_day_of_month.wday %>
            <% (@start_date..@end_date).each do |date| %>
              <% if date.to_date == param_date %>
                <button type="button" class="bg-white py-1.5 text-gray-900 hover:bg-gray-100 focus:z-10">
                  <time datetime="<%= date.strftime("%Y-%m-%d") %>" class="mx-auto flex h-7 w-7 items-center justify-center rounded-full bg-gray-900 font-semibold text-white">
                    <%= date.day %>
                  </time>
                </button>
              <% else %>
                <button type="button" class="bg-white py-1.5 text-gray-900 hover:bg-gray-100 focus:z-10">
                  <time datetime="<%= date.strftime("%Y-%m-%d") %>" class="mx-auto flex h-7 w-7 items-center justify-center rounded-full">
                    <%= date.day %>
                  </time>
                </button>
              <% end %>
            <% end %>
            <% last_day_of_month = @end_date.end_of_month %>
            <% day_of_week_last_day = last_day_of_month.wday %>
            <% (6 - day_of_week_last_day).times do %>
              <button type="button" class="bg-gray-50 py-1.5 text-gray-400 hover:bg-gray-100 focus:z-10">
                <div class="mx-auto flex h-7 w-7 items-center justify-center rounded-full"> </div>
              </button>
            <% end %>
          </div>
          <%= render partial: 'checkout_products', locals: {day: @day} %>
        </div>
      </ol>
    </div>
  </div>
